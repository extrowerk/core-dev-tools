# Build libgcc.a with different options.  With gas, build pic libraries
# as well no floating point

# put this in if you want g++ to use the Dinkum lib
#T_CFLAGS = -D__QNXTARGET__ -DLIBSTDCXX=\"-lcpp\"
T_CFLAGS = -D__QNXTARGET__
CRTSTUFF_T_CFLAGS = -fPIC -fno-omit-frame-pointer
TARGET_LIBGCC2_CFLAGS = -fno-honor-std
FIXPROTO_DEFINES = -D__QNX__ -D__QNXNTO__ -D__X86__ -D__GNUC__ -D__LITTLEENDIAN__

MULTILIB_OPTIONS	= fexceptions fpic
MULTILIB_DIRNAMES	= exceptions pic
MULTILIB_EXCEPTIONS	=
MULTILIB_MATCHES	= fexceptions fpic=fPIC 

LIBGCC = stmp-multilib
INSTALL_LIBGCC = install-multilib

USER_H = $(EXTRA_HEADERS) $(LANG_EXTRA_HEADERS)

CROSS_LIBGCC1 = libgcc1.a

EXTRA_PARTS = crtbeginC++.o crtendC++.o

$(T)crtbeginC++.o: crtbegin.o
	cp crtbegin.o crtbeginC++.o

$(T)crtendC++.o: crtend.o
	cp crtend.o crtendC++.o

